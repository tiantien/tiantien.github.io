(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{301:function(n,s,a){"use strict";a.r(s);var t=a(5),e=Object(t.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"docker安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装nginx"}},[n._v("#")]),n._v(" Docker安装Nginx")]),n._v(" "),s("h2",{attrs:{id:"下载nginx镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载nginx镜像"}},[n._v("#")]),n._v(" 下载nginx镜像")]),n._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" pull nginx\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("h2",{attrs:{id:"构造nginx测试容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构造nginx测试容器"}},[n._v("#")]),n._v(" 构造nginx测试容器")]),n._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" run -d -name nginx\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("h2",{attrs:{id:"拷贝默认的配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拷贝默认的配置文件"}},[n._v("#")]),n._v(" 拷贝默认的配置文件")]),n._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("## 在宿主机中新建docker文件目录")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("mkdir")]),n._v(" -p /data/nginx/html\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("mkdir")]),n._v(" -p /data/nginx/logs\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("## 拷贝默认配置文件")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("[")]),n._v("docker容器名称"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("]")]),n._v(":/etc/nginx/nginx.conf /data/nginx\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("cp")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("[")]),n._v("docker容器名称"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("]")]),n._v(":/etc/nginx/conf.d /data/nginx\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("## 删除nginx容器")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" stop nginx\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" nginx\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br")])]),s("h2",{attrs:{id:"正式启动nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正式启动nginx"}},[n._v("#")]),n._v(" 正式启动nginx")]),n._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("80")]),n._v(":80 -p "),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("443")]),n._v(":443 --name nginx "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n-v /data/nginx/html:/usr/share/nginx/html "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n-v /root/nginx/nginx.conf:/etc/nginx/nginx.conf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n-v /root/nginx/conf.d:/etc/nginx/conf.d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\n-v /root/docker/nginx/logs:/var/log/nginx "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("\nnginx\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br")])]),s("h2",{attrs:{id:"验证nginx服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证nginx服务"}},[n._v("#")]),n._v(" 验证nginx服务")]),n._v(" "),s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[n._v("#")]),n._v(" 常用命令")]),n._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[n._v("## 重新加载nginx配置")]),n._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("exec")]),n._v(" -it nginx "),s("span",{pre:!0,attrs:{class:"token function"}},[n._v("service")]),n._v(" nginx reload\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);